<ion-content>
    <ion-row class="page-title">
      <ion-col>
        <ion-label>Editar Produto</ion-label>
      </ion-col>
    </ion-row>
    
    <ion-grid>
      <ion-row>
        <ion-col size="3" class="input-col">
          <ion-label class="input-label">Código</ion-label>
          <ion-item class="input">
            <ion-input type="string" required="true" [(ngModel)]="product.code"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="7" class="input2-col">
          <ion-label class="input-label">Nome do produto</ion-label>
          <ion-item class="input">
            <ion-input type="string" required="true" [(ngModel)]="product.title"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="10" class="input-col">
          <ion-label class="input-label">Descrição do produto</ion-label>
          <ion-item class="input-text">
            <ion-textarea rows="8" [(ngModel)]="product.description"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="input-col">
          <ion-label class="input-label">Tamanhos disponíveis</ion-label>
          <ion-item class="input">
            <ion-input type="string" required="true" [(ngModel)]="product.availableSizes"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col class="checkbox-col">
          <ion-col>
            <ion-checkbox [(ngModel)]="product.isPromotional"></ion-checkbox>
          </ion-col>
          <ion-col class="checkbox-label">
            <ion-label>Produto em promoção</ion-label>
          </ion-col>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="destaq-col">
          <img class="destaq-img" src="{{ product.image1 }}">
        </ion-col>
      </ion-row>
        <ion-row>
          <ion-col>
            <ion-label>
              <ion-input
                type="file"
                class="text-nowrap text-truncate"
                (change)="selectFileForImage1($event)"
              ></ion-input>
            </ion-label>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="currentFileUploadForImage1">
          <ion-col>
            <ion-progress-bar value="{{ percentageForImage1 }}"></ion-progress-bar>
          </ion-col>
        </ion-row>
      <ion-row *ngIf="this.product.image1.length === 31">
        <ion-col class="destaq-button-col">
          <ion-button class="destaq-button" color="secondary" [disabled]="!selectedFilesForImage1" (click)="uploadImage1()">
            Adicionar Imagem de Destaque
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="this.product.image1.length > 31">
        <ion-col class="destaq-button-col">
          <ion-button class="destaq-button" color="secondary" [disabled]="!selectedFilesForImage1" (click)="uploadImage1()">
            Editar Imagem de Destaque
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row class="images-row">
        <ion-col size="4">
          <img class="images" src="{{ product.image2 }}">
        </ion-col>
        <ion-col size="4">
          <img class="images" src="{{ product.image3 }}">
        </ion-col>
        <ion-col size="4">
          <img class="images" src="{{ product.image4 }}">
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-label>
            <ion-input
              type="file"
              class="text-nowrap text-truncate"
              (change)="selectFileForImage2($event)"
            ></ion-input>
          </ion-label>
        </ion-col>
        <ion-col>
          <ion-label>
            <ion-input
              type="file"
              class="text-nowrap text-truncate"
              (change)="selectFileForImage3($event)"
            ></ion-input>
          </ion-label>
        </ion-col>
        <ion-col>
          <ion-label>
            <ion-input
              type="file"
              class="text-nowrap text-truncate"
              (change)="selectFileForImage4($event)"
            ></ion-input>
          </ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="4" *ngIf="currentFileUploadForImage2">
          <ion-progress-bar value="{{ percentageForImage2 }}"></ion-progress-bar>
        </ion-col>
        <ion-col size="4" *ngIf="currentFileUploadForImage3">
          <ion-progress-bar value="{{ percentageForImage3 }}"></ion-progress-bar>
        </ion-col>
        <ion-col size="4" *ngIf="currentFileUploadForImage4">
          <ion-progress-bar value="{{ percentageForImage4 }}"></ion-progress-bar>
        </ion-col>
      </ion-row>
      <ion-row class="images-button-row">
        <ion-col size="4" *ngIf="this.product.image2.length === 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage2" (click)="uploadImage2()">Adicionar Imagem</ion-button>
        </ion-col>
        <ion-col size="4" *ngIf="this.product.image2.length > 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage2" (click)="uploadImage2()">Editar Imagem</ion-button>
        </ion-col>
        <ion-col size="4" *ngIf="this.product.image3.length === 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage3" (click)="uploadImage3()">Adicionar Imagem</ion-button>
        </ion-col>
        <ion-col size="4" *ngIf="this.product.image3.length > 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage3" (click)="uploadImage3()">Editar Imagem</ion-button>
        </ion-col>
        <ion-col size="4" *ngIf="this.product.image4.length === 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage4" (click)="uploadImage4()">Adicionar Imagem</ion-button>
        </ion-col>
        <ion-col size="4" *ngIf="this.product.image4.length > 31">
          <ion-button class="images-button" color="secondary" [disabled]="!selectedFilesForImage4" (click)="uploadImage4()">Editar Imagem</ion-button>
        </ion-col>
      </ion-row>
      <ion-row class="buttons-row">
        <ion-col class="cancel-button-col">
          <ion-button class="cancel-button" color="secondary" fill="outline" (click)="cancelAction()">Cancelar</ion-button>
        </ion-col>
        <ion-col class="save-button-col">
          <ion-button class="save-button" color="secondary" (click)="saveProduct()">Salvar</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
</ion-content>
